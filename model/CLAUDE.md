# 当前状态
现在你已经把数据准备和好了，你可以@data里面里面查看dataloader的数据结构，现在你需要设计模型。

# 模型
## Decoder 架构
输入的[B, T, V]需要先转化成[B,T*V,dim],这个dim就是类似于768这种模型，应该是通过预设的一些config传入的，预设的参数分成模型config，和训练还有测试的config，你分别先创建对应的模型config typedict类再在模型里面解析。训练的一些参数先不管，这是后面的事情。
给你的数据已经归一化好了，你直接reshape维度，但是id_mask还需要处理，因为T时间的看不到后面的mask，然后T+1时刻的数据可以看到T时刻的数据和T+1时刻的其它所有数据。这个mask是attention_mask: [B, T, V]，这个是在计算注意力的时候用的。你需要进来改成[B, T*V, T*V]的形式。

1.我现在要做的就是做这个最简单的纯decoder的模型，就是输入的Boundary.csv的数据在最左边，相当于systerm prompt，然后因为可以输入第一瞬时的所有要预测的数据的状态，这里就最好是直接吧第一瞬时的数据作为输出数据。然后最后反向传播就是只传播需要预测的下一分钟的数据，并且是一一对应的。
2.暂时现不考虑拓扑关系预定义，让模型自己反向传播学习内化到拓扑关系。
3.现在暂时使用最基础的位置编码正弦–余弦的固定位置编码。
4.一次decoder的前向传播是这一个分钟预测到下一个分钟。
5.使用multihead self attention
6.其它正常的decoder结构，比如残差连接，norm层
7.输入数据都是浮点数，先归一化然后线性映射，可以使用更小 MLP（如 1→128→256，GELU+LayerNorm），对非线性关系更友好。
